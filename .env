# ==========================================
# OpenCTI Docker Compose Environment Variables
# ==========================================
# 
# IMPORTANT SECURITY NOTES:
# 1. Change ALL default passwords before production deployment
# 2. Use strong, unique passwords for each service
# 3. Keep this file secure and never commit it to version control
# 4. Consider using Docker secrets for production deployments
#
# ==========================================

# ===== CONTAINER VERSIONS =====
# Pin specific versions for production stability
OPENCTI_VERSION=5.12.17
REDIS_VERSION=7.2-alpine
ELASTIC_VERSION=8.11.3
MINIO_VERSION=RELEASE.2023-12-02T10-51-33Z
RABBITMQ_VERSION=3.12-management

# ===== OPENCTI PLATFORM CONFIGURATION =====
# External port where OpenCTI will be accessible
OPENCTI_PORT=8080

# Base URL for OpenCTI (change this for production/reverse proxy setups)
OPENCTI_BASE_URL=http://localhost:8080

# Initial admin user credentials (CHANGE THESE!)
OPENCTI_ADMIN_EMAIL=n.vegter@gmail.com
OPENCTI_ADMIN_PASSWORD=Andrehazes!@#$

# Admin API token for workers and connectors (GENERATE A STRONG RANDOM TOKEN!)
# Use: openssl rand -hex 32
OPENCTI_ADMIN_TOKEN=ChangeMe-GenerateALongRandomToken-32Characters

# Logging level (error, warning, info, debug)
OPENCTI_LOG_LEVEL=info

# ===== REDIS CONFIGURATION =====
# Redis password (CHANGE THIS!)
REDIS_PASSWORD=ChangeMe_RedisPassword123!

# ===== ELASTICSEARCH CONFIGURATION =====
# Java heap size for Elasticsearch (adjust based on available RAM)
# Rule of thumb: 50% of available RAM, max 32GB
ELASTICSEARCH_JAVA_OPTS=-Xms4g -Xmx4g

# ===== MINIO (S3 STORAGE) CONFIGURATION =====
# MinIO credentials (CHANGE THESE!)
MINIO_ROOT_USER=opencti-minio-user
MINIO_ROOT_PASSWORD=ChangeMe_MinioPassword123!

# S3 bucket configuration
MINIO_BUCKET_NAME=opencti-bucket
MINIO_BUCKET_REGION=us-east-1

# ===== RABBITMQ CONFIGURATION =====
# RabbitMQ credentials (CHANGE THESE!)
RABBITMQ_DEFAULT_USER=opencti-rmq-user
RABBITMQ_DEFAULT_PASS=ChangeMe_RabbitMQPassword123!
RABBITMQ_DEFAULT_VHOST=/

# Queue type (classic or quorum)
RABBITMQ_QUEUE_TYPE=classic

# ===== WORKER CONFIGURATION =====
# Worker logging level
WORKER_LOG_LEVEL=info

# Worker name identifier
WORKER_NAME=opencti-worker-main

# ===== CONNECTOR CONFIGURATION =====
# Connector logging level
CONNECTOR_LOG_LEVEL=info

# Connector UUIDs (generate unique UUIDs for each connector)
# Use: python3 -c "import uuid; print(str(uuid.uuid4()))"
CONNECTOR_EXPORT_FILE_STIX_ID=dd817c8b-abae-460a-9ebc-97b1551e70e6
CONNECTOR_EXPORT_FILE_CSV_ID=7ba187fb-fde8-4063-92b5-c3da34060dd7
CONNECTOR_IMPORT_FILE_STIX_ID=72327164-0b35-482b-b5d6-a5a3f76b845f

# ===== SMTP CONFIGURATION (OPTIONAL) =====
# Email server settings for notifications
SMTP_HOSTNAME=
SMTP_PORT=587
SMTP_USE_SSL=false
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=opencti@yourdomain.com

# ===== ADVANCED CONFIGURATION =====
# Uncomment and modify these for advanced setups

# Custom network subnet (if you need to avoid conflicts)
# NETWORK_SUBNET=172.20.0.0/16

# Custom data directory (if you want to store data outside Docker volumes)
# DATA_DIRECTORY=/opt/opencti-data

# Timezone setting
# TZ=UTC

# ===== PRODUCTION NOTES =====
# For production deployments, consider:
# 1. Using external managed services (RDS, ElasticSearch Service, etc.)
# 2. Implementing proper backup strategies
# 3. Setting up monitoring and alerting
# 4. Using HTTPS with proper SSL certificates
# 5. Implementing network security (firewalls, VPNs)
# 6. Regular security updates and patches
